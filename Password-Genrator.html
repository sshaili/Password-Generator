<!DOCTYPE html>
<html>
<head>
        <title>Password - Genrator</title>
        <meta content="width=device-width, initial-scale=1" name="viewport" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="./css/style.css">
        <script type="text/javascript">
              var charTypes = {
                'special': '!$%^&*()-=+[]{};#:@~,./<>?',
                'numeric': '0123456789',
                'lowerCase': 'abcdefghijklmnopqrstuvwxyz',
                'upperCase': 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
			}; 
            var password = ''; 
            var finalPassword = '';
            function pwdGen(){
             
                             
                            var charLength = parseInt(window.prompt("How many characters would you like your password to contain?"));
                            // document.getElementById("charLength").innerHTML = charLength;


                            if(!isNaN(charLength) && charLength <= 128 && charLength >=4 ){
                            var special = confirm("Click OK to confirm including special character");
                            // document.getElementById("special").innerHTML = charTypes.special;
                            
                            var numeric = confirm("Click OK to confirm including numeric character");
                            //document.getElementById("numeric").innerHTML = charTypes.numeric;

                            var lowerCase = confirm("Click OK to confirm including Lowercase character");
                            //document.getElementById("lowerCase").innerHTML = charTypes.lowerCase;

                            var upperCase = confirm ("Click OK to confirm including Uppercase character");
                            //document.getElementById("upperCase").innerHTML = charTypes.upperCase;

                            }

                            else{
                                alert("password Requirenment : Minimum Password size is 4 and maximum Password size is 128");
                                pwdGen();
                                
                            }  
                            console.log(charLength);
                            for(var i = 0; i < charLength;i++){
                            specialChar();
                            numericChar();
                            lowerCaseChar();
                            upperCaseChar();

                            }
                            
                            
                            function specialChar(){
                            if(special){
                                 password += charTypes.special[Math.floor(Math.random() * charTypes.special.length)];
                                 
                                 }
                            }
                            function numericChar(){
                            if(numeric){
                                password += charTypes.numeric[ Math.floor(Math.random() * charTypes.numeric.length) ];
                                
                                
                            }
                            }
                            function lowerCaseChar(){
                            if(lowerCase){
                                password += charTypes.lowerCase[ Math.floor(Math.random() * charTypes.lowerCase.length) ];
                                
                            } 
                            }
                            function upperCaseChar(){
                            if(upperCase) {
                                password += charTypes.upperCase[Math.floor(Math.random() * charTypes.upperCase.length) ];  
                                
                            }
                            }
                            
                            var passwordLength = charLength;
                            var longPassword = password;
                            console.log(password);
                            finalPassword = longPassword.substring(0,passwordLength);
                            document.getElementById("passwordArea").innerHTML = finalPassword;
                            console.log(finalPassword);
            }
            function copyFunction() {
                var copyPassword = document.getElementById("passwordArea");
                copyPassword.select();
                copyPassword.setSelectionRange(0, 99999);
                document.execCommand("copy");
                alert("Your password  " + copyPassword.value + " was copied to your clipboard");
            }
        </script>
</head>
<body>

    <div class="row">
        <div class="col">
                <h1>Password Generator</h1>
        </div>
    </div>
        <div class="row">
            <div class="col-md-6 col-md-offset-2">
                <h3>Generate a Password</h3>
                <hr>  
                <div id="pwd">
                        <textarea id="passwordArea" placeholder="Your Secure Password"></textarea>
                        <br>
                    

                </div>   
                <hr>
                <div class="container">
                        <input type="button" class="btn btn-info" value="Generate Password" onclick="pwdGen()">
                        <input type="button" id = "copyButton" name="myButton" class="btn btn-info" value="Copy to Clipboard" onclick="copyFunction();">
                      </div>       

                      <p id="length">

                      </p>
                      <p id="special">

                        </p>
                        <p id="numeric">

                            </p>
                            <p id="lowerCase">

                                </p>
                                <p id="upperCase">

                                    </p>
                                    
            </div>
        </div>
</body>
</html>